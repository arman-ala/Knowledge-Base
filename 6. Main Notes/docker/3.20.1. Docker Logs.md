# 3.20.1. Docker Logs

2025-08-09 18:45
Status: #DONE 
Tags: [[Docker]]

---
The `docker logs` command is a powerful tool used to fetch and display the logs generated by a running or stopped Docker container. These logs typically include everything written to the standard output (stdout) and standard error (stderr) streams by the processes running inside the container. By default, Docker captures these logs and stores them in a JSON file located in the `/var/lib/docker/containers/<container_id>/` directory.

## Relation Between `docker logs` and `/var/lib/docker/containers/<container_id>/<container_id>-json.log`

When you run a container, Docker automatically creates a log file for it in the `/var/lib/docker/containers/<container_id>/` directory. This file is named `<container_id>-json.log`. The `docker logs` command essentially reads from this file to display the logs in a human-readable format. 

Here's how they relate:
- The `<container_id>-json.log` file is the backend storage for container logs.
- When you execute `docker logs`, Docker retrieves the data from this JSON log file and formats it for easier consumption.
- If you manually inspect the `<container_id>-json.log` file, you'll see raw JSON objects containing metadata like timestamps and stream type (stdout or stderr).

This mechanism ensures that logs are persisted even if the container stops or crashes, allowing you to debug issues retrospectively.

## Table of Flags for `docker logs`

Below is a comprehensive table of all the flags supported by the `docker logs` command, along with their descriptions:

| Flag                  | Description                                                                                   |
|-----------------------|-----------------------------------------------------------------------------------------------|
| `--details`           | Include extra details provided to logs, such as environment variables and labels.            |
| `--follow` or `-f`    | Stream the logs in real-time, similar to the `tail -f` command.                               |
| `--since`             | Show logs since a specific timestamp (e.g., `2023-01-01T12:00:00Z`) or relative time (e.g., `5m`). |
| `--tail`              | Display only the last N lines of logs (e.g., `--tail 10` shows the last 10 lines).           |
| `--timestamps` or `-t`| Include timestamps in the log output.                                                         |
| `--until`             | Show logs up to a specific timestamp (e.g., `2023-01-01T12:00:00Z`) or relative time (e.g., `5m`). |

### Additional Notes
- The `--follow` flag is particularly useful for monitoring live logs during development or debugging.
- The `--since` and `--until` flags allow you to filter logs based on time, which is handy when investigating issues over a specific period.
- The `--timestamps` flag adds precision by including the exact time each log entry was generated.

## Practical Use Cases

1. **Viewing Recent Logs**:  
   If you want to see the last 20 lines of logs for a container named `my_container`, you can use:  
   ```bash
   docker logs --tail 20 my_container
   ```

2. **Streaming Live Logs**:  
   To monitor logs in real-time for a container named `web_server`:  
   ```bash
   docker logs -f web_server
   ```

3. **Filtering Logs by Time**:  
   To view logs generated in the last 5 minutes for a container named `api_service`:  
   ```bash
   docker logs --since 5m api_service
   ```

4. **Including Timestamps**:  
   To include timestamps in the log output for better context:  
   ```bash
   docker logs -t my_container
   ```
