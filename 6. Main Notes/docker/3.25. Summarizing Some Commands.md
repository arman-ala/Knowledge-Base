# 3.25. Summarizing Some Commands

2025-08-09 18:47
Status: #DONE 
Tags: [[Docker]]

---
![[3.25_commands.png]]

## Explaining Docker Commands in the Diagram

### `build`

The `build` command, initiated with `docker build`, constructs a Docker image from a Dockerfile. It processes the Dockerfile’s instructions, such as specifying a base image, installing dependencies, and setting configurations, to create a new image. Each instruction generates a new layer in the image, and Docker caches these layers to optimize subsequent builds. The resulting image is stored in the local Docker instance, ready for creating containers or further distribution.

### `tag`

The `tag` command, executed as `docker tag`, assigns a new name and/or tag to an existing Docker image. It creates a reference to the original image without altering its contents, enabling better organization or versioning of images. This is particularly useful for preparing images for a registry or distinguishing between different versions locally. The command updates the image’s metadata to reflect the new tag.

### `push`

The `push` command, run with `docker push`, uploads a local Docker image to a remote Docker registry, such as Docker Hub. It requires the image to be tagged with the registry’s repository name, authenticates with the registry, and then transfers the image’s layers and metadata. This makes the image accessible for others to pull, facilitating sharing and deployment across different systems.

### `pull`

The `pull` command, executed as `docker pull`, downloads a Docker image from a remote registry to the local Docker instance. By specifying the image name and tag, Docker connects to the registry, retrieves the image’s layers and metadata, and stores them locally. If the image already exists, Docker only downloads updated layers, optimizing the process for efficiency.

### `save`

The `save` command, run with `docker save`, packages one or more Docker images into a single tar archive. It includes all layers, metadata, and configuration details (like `CMD` and `ENTRYPOINT`), preserving the image’s structure. The tar file can be transferred to another system and loaded back into Docker, making it ideal for offline image sharing.

### `load`

The `load` command, executed as `docker load`, imports a Docker image from a tar archive into the local Docker instance. It extracts the image’s layers and metadata from the tar file (created by `docker save`) and reconstructs the image locally. This allows for restoring images on a new system without requiring a registry connection, useful for offline environments.

### `export`

The `export` command, run with `docker export`, creates a tar archive of a container’s filesystem. It captures the entire filesystem state, including all files and directories, but excludes metadata like the container’s configuration or volumes. The resulting tar file represents a flattened snapshot of the container, which can be imported as a new image on another system.

### `import`

The `import` command, executed as `docker import`, creates a new Docker image from a tar archive generated by `docker export`. It reads the tar file, imports the filesystem as a single layer, and creates a new image without the original container’s metadata (like `CMD` or `ENTRYPOINT`). The new image can then be used to run containers, often requiring manual specification of runtime commands.

### `commit`

The `commit` command, run with `docker commit`, creates a new Docker image from a container’s current state. It captures the container’s filesystem changes, such as new files or installed packages, and combines them with its metadata to form a new image. This new image can be used to create other containers, effectively saving the container’s state for reuse.

### `run`

The `run` command, executed as `docker run`, creates and starts a new container from a specified image. It combines container creation and starting into one step, executing the image’s default command as defined by `CMD` or `ENTRYPOINT`. The command supports various flags to customize the container’s behavior, such as running interactively or in the background.

### `stop`

The `stop` command, run with `docker stop`, gracefully halts a running container. It sends a `SIGTERM` signal to the container’s main process, allowing it to shut down cleanly within a default timeout of 10 seconds. If the process doesn’t exit, Docker sends a `SIGKILL` to forcefully terminate it, moving the container to the `Exited` state.

### `start`

The `start` command, executed as `docker start`, restarts a stopped container, transitioning it back to the `Up` state. It resumes the container’s main process using its original configuration, without creating a new container. The command can attach to the container’s output, making it useful for resuming tasks while preserving the container’s state.

### `restart`

The `restart` command, run with `docker restart`, stops and then starts a container in one operation. It sends a `SIGTERM` to stop the container (with a configurable timeout) and then restarts it with the same configuration. This is useful for refreshing a container’s state, such as reloading a service, without manual intervention.

### `pause`

The `pause` command, executed as `docker pause`, suspends all processes within a running container. It uses the `cgroup` freezer to pause the container’s processes, effectively halting its activity without terminating it. The container remains in a `Paused` state, preserving its runtime state until it is unpaused.

### `unpause`

The `unpause` command, run with `docker unpause`, resumes a paused container, returning it to the `Up` state. It releases the container’s processes from the `cgroup` freezer, allowing them to continue execution from where they left off. This command is the counterpart to `pause`, enabling you to resume normal operation without restarting the container.