# 7. Linux File System

2025-08-18 07:55
Status: #DONE 
Tags: [[Linux]]

---
# Comprehensive Guide to Linux File System Directories

## Abstract

This document provides an in-depth, beginner-friendly explanation of the Linux file system’s hierarchical structure, focusing on all standard directories as defined by the Filesystem Hierarchy Standard (FHS). Building on the previously discussed root (`/`) and home (`/home/username`) directories, it expands to cover additional directories, their purposes, and access considerations. The explanation assumes no prior knowledge, incorporates practical insights, and includes best practices to assist users in navigating and managing the Linux environment effectively.

## Introduction to the Linux File System

The Linux file system is organized as a hierarchical tree, starting from the root directory (`/`) and branching into various subdirectories. This structure ensures that files and directories are logically arranged to support system operations, user data, and applications. The Filesystem Hierarchy Standard (FHS) provides a standardized layout, making Linux predictable across different distributions. Each directory serves a specific role, from storing system files to housing user data, with permissions controlling access. This guide details all standard directories, building on the root and home directories, to offer a complete understanding of the file system.

## Hierarchical Structure of the Linux File System

The Linux file system is built as a tree-like structure, beginning with the root directory (/). From this root, all other directories and files branch out. Key directories serve distinct purposes, and understanding their organization is essential for navigating and managing the system. Below is an explanation of the structure, with a focus on the home and root directories as highlighted:

- **Root Directory (/)**
  The root directory is the topmost level of the file system, containing all files and subdirectories. It is not to be confused with the root user (the superuser with administrative privileges). All users, including the root user, have access to files within this directory, but this access is governed by permissions, not unrestricted entry. For example, system configuration files like `/etc` or binary executables in `/bin` reside here, accessible based on user rights. The statement that "in root, all users have access to existing files" is partially correct but requires clarification: access depends on file permissions (e.g., read, write, execute), set using commands like `chmod` or `chown`. Only the root user can modify critical system files without restrictions.

- **Home Directory (e.g., /home/username)**
  The home directory, often located under `/home` (e.g., `/home/user1` for a user named "user1"), is a personal space for each user. Contrary to the statement that "in the directory profile only one user" exists, each user typically has their own home directory. This directory stores personal files, settings, and configurations specific to that user. For instance, a user’s documents, desktop files, and application preferences are kept here. Other users cannot access these files unless explicitly granted permission by the owner, ensuring privacy and security. The home directory is the default location when a user logs in, providing a sandboxed environment. The home directory is not limited to a single user across the system but is individualized per user under `/home`. The root directory, while accessible to all users in theory, is protected by a permission system (e.g., only root can write to `/etc/passwd`). This hierarchical design ensures both centralized system management and user-specific isolation.

## Permissions and Access Control

Access to files and directories in Linux is controlled by a permission system, which determines who can read, write, or execute. Each file or directory has an owner (usually the creator) and a group, with permissions set for the owner, group, and others (all users). For example:

- A file in `/home/user1` might have permissions like `rw-------` (read and write for the owner only), restricting access to others.
- A system file in `/etc` might be `rw-r--r--` (read and write for root, read-only for others).

The root user, however, can override these permissions, making it a powerful account for system administration. This is why access to the root directory and its subdirectories requires caution.

### Best Practices
- **Use Regular User Accounts**: Perform daily tasks as a standard user to avoid accidental system changes; use `sudo` for administrative tasks.
- **Check Permissions**: Use `ls -l` to view file permissions and adjust them with `chmod` (e.g., `chmod 755 script.sh` for executable access).
- **Backup Home Data**: Regularly back up the home directory to prevent data loss, as it contains personal files.


## Detailed Explanation of Linux File System Directories

The Linux file system is divided into several key directories, each with a defined purpose. Below is a comprehensive list of all standard directories as per the FHS, with explanations tailored for beginners:

- **/ (Root Directory)**  
  The root directory is the topmost level of the file system, containing all other directories and files. It is the starting point of the hierarchy and is not the same as the root user (the superuser). All users can access files here based on permissions, but the root user has unrestricted control. For example, critical system files like `/boot` or `/etc` are located here.  
  *Access Consideration*: Permissions (e.g., read, write, execute) determine access; use `ls -l` to check.  
  *Best Practice*: Avoid making changes as a regular user; use `sudo` for administrative tasks.

- **/bin (User Binaries)**  
  This directory holds essential binary executables (commands) that all users can run, such as `ls`, `cp`, and `cat`. These are basic tools needed for the system to function, even in single-user mode (e.g., during recovery).  
  *Access Consideration*: Readable and executable by all users.  
  *Tip*: Use these commands to navigate or manage files (e.g., `ls -l` to list details).

- **/boot (Boot Loader Files)**  
  The `/boot` directory contains files required to start the Linux kernel, including the kernel image (`vmlinuz`) and bootloader configuration (e.g., GRUB files). It ensures the system can boot properly.  
  *Access Consideration*: Typically read-only for users; root modifies during updates.  
  *Best Practice*: Back up `/boot` before kernel upgrades to avoid boot issues.

- **/dev (Device Files)**  
  This directory includes special files representing hardware devices, such as hard drives (`/dev/sda`), USBs, or terminals. These are not traditional files but interfaces to interact with hardware.  
  *Access Consideration*: Access depends on device permissions; root or specific groups (e.g., `disk`) may be required.  
  *Tip*: Use `lsblk` to list block devices like drives.

- **/etc (System Configuration Files)**  
  The `/etc` directory stores configuration files for the system and installed software, such as `/etc/passwd` (user accounts) or `/etc/hosts` (network settings). These files are critical for system behavior.  
  *Access Consideration*: Editable only by root to prevent unauthorized changes.  
  *Best Practice*: Edit with caution using `nano` or `vim` and test changes in a safe environment.

- **/home (User Home Directories)**  
  Each user has a personal directory under `/home` (e.g., `/home/alice`), where they store files, settings, and preferences. This is their private workspace, isolated from other users.  
  *Access Consideration*: Only the user (and root) can access by default; others need explicit permission.  
  *Tip*: Organize files with subfolders (e.g., `/home/alice/documents`).

- **/lib and /lib64 (Libraries)**  
  These directories contain shared library files (e.g., `.so` files) needed by programs in `/bin` and `/sbin` to run. `/lib64` is for 64-bit libraries on 64-bit systems.  
  *Access Consideration*: Readable by all; modifications require root.  
  *Best Practice*: Avoid manual changes; use package managers to update libraries.

- **/media (Removable Media)**  
  This directory is a mount point for removable devices like USB drives or CDs, automatically created when such devices are connected.  
  *Access Consideration*: Depends on user permissions and mount settings.  
  *Tip*: Safely eject devices with `eject` or a graphical tool.

- **/mnt (Temporary Mount Point)**  
  Used for manually mounting file systems, such as external hard drives or network shares, during temporary use. It’s less automated than `/media`.  
  *Access Consideration*: Configurable by the user mounting it, often requiring root.  
  *Best Practice*: Unmount with `umount` before disconnecting devices.

- **/opt (Optional Software)**  
  This directory is for installing optional or third-party software packages, keeping them separate from system files. For example, a custom application might install here.  
  *Access Consideration*: Accessible to all if permissions allow; installation needs root.  
  *Tip*: Use `/opt` for large software to avoid cluttering system directories.

- **/proc (Process Information)**  
  A virtual filesystem providing real-time information about running processes and system status (e.g., `/proc/cpuinfo` for CPU details). It doesn’t store physical files but generates data on demand.  
  *Access Consideration*: Readable by all; writing is restricted or used for system tweaks.  
  *Best Practice*: Use `cat /proc/meminfo` to monitor memory safely.

- **/root (Root User Home)**  
  The home directory for the root user, located at `/root` (not `/home/root`). It contains the root user’s personal files and settings, separate from other users.  
  *Access Consideration*: Accessible only to the root user.  
  *Tip*: Log in as root sparingly to protect system integrity.

- **/run (Run-Time Data)**  
  Stores temporary runtime data, such as process IDs or socket files, created after boot. It replaces older `/var/run` in modern systems.  
  *Access Consideration*: Managed by the system; user access varies.  
  *Best Practice*: Avoid manual edits to prevent service disruptions.

- **/sbin (System Binaries)**  
  Contains system administration binaries (e.g., `reboot`, `fdisk`) intended for root use to manage the system.  
  *Access Consideration*: Executable by root or users with `sudo` privileges.  
  *Tip*: Use these for system maintenance tasks.

- **/srv (Service Data)**  
  Holds data for services provided by the system, such as web or FTP server files (e.g., `/srv/www`).  
  *Access Consideration*: Depends on service configuration; often root-managed.  
  *Best Practice*: Organize service data clearly for scalability.

- **/sys (System Information)**  
  Another virtual filesystem for hardware and kernel information, similar to `/proc`, used for device and driver management (e.g., `/sys/class`).  
  *Access Consideration*: Readable by all; writing requires root for configuration.  
  *Tip*: Use `ls /sys` to explore hardware details.

- **/tmp (Temporary Files)**  
  A shared space for temporary files created by users or applications, automatically cleared on reboot.  
  *Access Consideration*: Readable and writable by all; no persistent storage.  
  *Best Practice*: Clean up large temporary files to free space.

- **/usr (User Software)**  
  Contains user-installed programs, libraries, and documentation, divided into subdirectories like `/usr/bin` (user commands) and `/usr/lib`. It separates user software from system-critical files.  
  *Access Consideration*: Accessible to all; installation needs root.  
  *Tip*: Update software via package managers like `apt` or `yum`.

- **/var (Variable Data)**  
  Stores data that changes, such as logs (`/var/log`), mail (`/var/mail`), or cached files (`/var/cache`). It supports system operation and user activity.  
  *Access Consideration*: Varies by subdirectory; logs often readable by all, writable by services.  
  *Best Practice*: Monitor `/var/log` with `tail -f` for system health.

## Permissions and Access Control

Access to these directories is governed by a permission system, assigning read (r), write (w), and execute (x) rights to the owner, group, and others. For example, `/home/username` might have `rwxr-xr-x` (owner full access, others read/execute), while `/etc` might be `rw-r--r--` (root full, others read-only). The root user can override these permissions, making it essential for system administration.

### Best Practices
- **Use `ls -ld`**: Check directory permissions (e.g., `ls -ld /etc`).
- **Modify with Care**: Use `chmod` (e.g., `chmod 755 /path`) or `chown` to adjust ownership, always testing changes.
- **Limit Root Use**: Perform routine tasks as a regular user to minimize risks.

## Practical Example

Consider a system where "john" works on a project. His files are in `/home/john/project`, accessible only to him unless he runs `chmod -R o+rx /home/john/project` to allow others to view. System logs in `/var/log` are readable by all to monitor activity, but only root can edit `/etc/ssh/sshd_config` to secure SSH access.

## Summary Table of Linux File System Directories

The following table lists all standard directories, their purposes, and access considerations:

| Directory        | Purpose                                      | Access Considerations                                         |
| ---------------- | -------------------------------------------- | ------------------------------------------------------------- |
| **/** (Root)     | Top-level directory containing all files.    | All users access based on permissions; root has full control. |
| **/bin**         | Essential user binaries (e.g., `ls`, `cat`). | Readable and executable by all.                               |
| **/boot**        | Boot loader and kernel files.                | Read-only for users; root modifies.                           |
| **/dev**         | Device files for hardware.                   | Depends on device permissions; root often needed.             |
| **/etc**         | System configuration files.                  | Editable only by root.                                        |
| **/home**        | User home directories.                       | User-specific; others need permission.                        |
| **/lib, /lib64** | Shared libraries for binaries.               | Readable by all; root modifies.                               |
| **/media**       | Mount point for removable media.             | Depends on mount settings.                                    |
| **/mnt**         | Temporary mount point for file systems.      | Configurable by user, often root.                             |
| **/opt**         | Optional third-party software.               | Accessible if permitted; root installs.                       |
| **/proc**        | Virtual filesystem for process info.         | Readable by all; restricted writes.                           |
| **/root**        | Root user’s home directory.                  | Accessible only to root.                                      |
| **/run**         | Runtime data (e.g., PIDs, sockets).          | System-managed; user access varies.                           |
| **/sbin**        | System administration binaries.              | Executable by root or with `sudo`.                            |
| **/srv**         | Data for system services (e.g., web).        | Depends on service; root-managed.                             |
| **/sys**         | Virtual filesystem for hardware info.        | Readable by all; root for configuration.                      |
| **/tmp**         | Temporary files shared across users.         | Readable/writable by all; cleared on reboot.                  |
| **/usr**         | User programs, libraries, and docs.          | Accessible to all; root installs.                             |
| **/var**         | Variable data (e.g., logs, mail).            | Varies by subdirectory; services or root write.               |