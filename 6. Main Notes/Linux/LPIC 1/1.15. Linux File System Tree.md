# 1.15. Linux File System Tree

2025-09-30 18:35
Status: #DONE 
Tags: [[Linux]]

---
# Exploring the Linux File System Tree and Related Commands

## Abstract

This document provides a comprehensive, beginner-friendly explanation of the Linux file system tree, detailing each directory's purpose as outlined, and adds the `lost+found` directory. It also covers all methods to determine the kernel version and distribution details. The explanation includes practical examples, best practices, and historical context, tailored for those new to Linux.

## Introduction to the Linux File System

The Linux file system is organized as a hierarchical tree starting from the root directory (`/`), a universal feature across all distributions. The Filesystem Hierarchy Standard (FHS), established in 1994, standardizes this structure to ensure consistency. This guide explores each directory, enhances it with `lost+found`, and provides methods to check kernel and distribution versions.

![[1.15. Linux Filesystem Tree.png]]

# Exploring the Linux File System Tree and Related Commands

## Abstract

This document provides a comprehensive, beginner-friendly explanation of the Linux file system tree, detailing the purpose and structure of its directories as defined by the Filesystem Hierarchy Standard (FHS). It includes methods to determine the kernel version and distribution details, offering practical examples and best practices for users new to Linux.

## Introduction to the Linux File System

The Linux file system is a hierarchical structure beginning at the root directory (`/`), a fundamental component of all distributions. Standardized by the Filesystem Hierarchy Standard (FHS) since 1994, this organization ensures consistency across various Linux environments. This guide explores the directories, their roles, and provides tools to identify system specifics, enhancing user navigation and management.

## Detailed Explanation of the File System Tree

- **/ (Root Directory)**  
  The primary hierarchy root and root directory of the entire file system hierarchy, present in every Linux distribution. All files related to the OS are contained within it.  
  *Example*: `/home` and `/bin` are subdirectories.  
  *Best Practice*: Avoid manual edits; use root privileges cautiously.

- **/bin (Binary)**  
  Essential command binaries that need to be available in single-user mode, including to bring up the system or repair it, for all users (e.g., `cat`, `ls`, `cp`).  
  *Example*: `/bin/bash` is the shell.  
  *Additional Example*: `/bin/cat` displays file contents.  
  *Best Practice*: Rely on `/bin` for basic operations.

- **/boot**  
  Boot loader files (e.g., kernels, `initrd`).  
  *Example*: `vmlinuz-5.15.0-73-generic` is a kernel file.  
  *Additional Example*: `grub.cfg` configures the bootloader.  
  *Tip*: Back up `/boot` before kernel updates.

- **/dev (Device)**  
  Device files (e.g., `/dev/null`, `/dev/disk0`, `/dev/sda1`, `/dev/tty`, `/dev/random`). Everything in Linux is treated as a file, even hardware; mounting is required for access.  
  *Example*: `/dev/cdrom`.  
  *Additional Example*: `/dev/tty1` for a terminal.  
  *Best Practice*: Use `lsblk` to list devices.

- **/etc (Etcetera)**  
  Host-specific system-wide configuration files. Historically called the "etcetera directory" for miscellaneous items, now restricted to static configuration files (no binaries). Later backronyms include "Editable Text Configuration" or "Extended Tool Chest."  
  *Example*: `/etc/passwd` for users.  
  *Additional Example*: `/etc/ssh/sshd_config`.  
  *Tip*: Edit with root and backup.

- **/etc/opt**  
  Configuration files for add-on packages stored in `/opt`.  
  *Example*: `/etc/opt/myapp/config`.  
  *Additional Example*: `/etc/opt/custom-service/settings`.  
  *Best Practice*: Maintain consistency with `/opt` packages.

- **/etc/sgml**  
  Configuration files, such as catalogs, for software that processes SGML.  
  *Example*: `/etc/sgml/catalog`.  
  *Additional Example*: `/etc/sgml/dtd`.  
  *Tip*: Relevant for SGML-based applications.

- **/etc/X11**  
  Configuration files for the X Window System, version 11.  
  *Example*: `/etc/X11/xorg.conf`.  
  *Additional Example*: `/etc/X11/xkb`.  
  *Best Practice*: Edit for display settings.

- **/etc/xml**  
  Configuration files, such as catalogs, for software that processes XML.  
  *Example*: `/etc/xml/catalog`.  
  *Additional Example*: `/etc/xml/schemas`.  
  *Tip*: Used in XML processing tools.

- **/home**  
  Users' home directories, containing saved files, personal settings, etc.  
  *Example*: `/home/arman/documents`.  
  *Additional Example*: Customizable with `useradd -d /custom Dorsa`.  
  *Tip*: Use `ls -ld /home/*` to list user homes.

- **/lib**  
  Libraries essential for the binaries in `/bin` and `/sbin`.  
  *Example*: `/lib/libc.so.6`.  
  *Additional Example*: `/lib/modules/5.15.0-73-generic`.  
  *Best Practice*: Update via package manager.

- **/lib`<qual>`** 
  Alternate format essential libraries (e.g., `/lib32` for 32-bit on 64-bit systems). Optional but follows specific requirements if present.  
  *Example*: `/lib32/libc.so.6` on a 64-bit system.  
  *Additional Example*: `/lib64` for 64-bit libraries.  
  *Tip*: Check with `file /lib*`.

- **/media**  
  Mount points for removable media such as CD-ROMs (introduced in FHS-2.3, 2004).  
  *Example*: `/media/usb` for a flash drive.  
  *Additional Example*: `/media/cdrom`.  
  *Best Practice*: Use for portable devices.

- **/mnt**  
  Temporarily mounted filesystems.  
  *Example*: `/mnt/server` for a network drive.  
  *Additional Example*: `/mnt/backup`.  
  *Tip*: Mount with `mount /dev/sdX /mnt`.

- **/opt (Optional)**  
  Add-on application software packages.  
  *Example*: `/opt/google/chrome`.  
  *Additional Example*: `/opt/custom-app`.  
  *Tip*: Install large software here.

- **/proc (Process)**  
  Virtual filesystem providing process and kernel information as files, corresponding to a `procfs` mount, generated on the fly.  
  *Example*: `/proc/cpuinfo` for CPU details.  
  *Additional Example*: `/proc/meminfo` for memory.  
  *Best Practice*: Read-only; avoid writes.

- **/root**  
  Home directory for the root user.  
  *Example*: `/root/script.sh`.  
  *Additional Example*: `/root/.bashrc` for rootâ€™s shell settings.  
  *Best Practice*: Limit sensitive data here.

- **/run**  
  Run-time variable data (e.g., logged-in users, running daemons) since last boot. Files are cleared or truncated at boot, often a `tmpfs` (introduced in FHS-3.0, 2015).  
  *Example*: `/run/utmp`.  
  *Additional Example*: `/run/user/1000`.  
  *Tip*: Check with `ls /run`.

- **/sbin**  
  Essential system binaries (e.g., `fsck`, `init`, `route`).  
  *Example*: `/sbin/shutdown`.  
  *Additional Example*: `/sbin/ifconfig` (on some systems).  
  *Best Practice*: Use `sudo` to access.

- **/srv**  
  Site-specific data served by this system (e.g., web, FTP, version control) (introduced in FHS-2.3, 2004).  
  *Example*: `/srv/www/html`.  
  *Additional Example*: `/srv/ftp/pub`.  
  *Tip*: Organize by service.

- **/sys**  
  Contains information about devices, drivers, and some kernel features.  
  *Example*: `/sys/class/power_supply`.  
  *Additional Example*: `/sys/block`.  
  *Best Practice*: Read-only; avoid writes.

- **/tmp**  
  Directory for temporary files, often not preserved between reboots and may be size-restricted.  
  *Example*: `/tmp/tempfile.txt`.  
  *Additional Example*: `/tmp/session_data`.  
  *Best Practice*: Clean regularly with `rm -f /tmp/*`.

- **/usr (User)**  
  Secondary hierarchy for read-only user data; contains the majority of (multi-)user utilities and applications, shareable and read-only.  
  *Example*: `/usr/bin/firefox`.  
  *Additional Example*: `/usr/local/bin/custom`.  
  *Tip*: Use for user-installed software.

- **/usr/bin**  
  Non-essential command binaries (not needed in single-user mode); for all users.  
  *Example*: `/usr/bin/vim`.  
  *Additional Example*: `/usr/bin/python3`.  
  *Best Practice*: Install user tools here.

- **/usr/include**  
  Standard include files for development.  
  *Example*: `/usr/include/stdlib.h`.  
  *Additional Example*: `/usr/include/linux`.  
  *Tip*: Used for compiling programs.

- **/usr/lib**  
  Libraries for the binaries in `/usr/bin` and `/usr/sbin`.  
  *Example*: `/usr/lib/libssl.so`.  
  *Additional Example*: `/usr/lib/python3`.  
  *Best Practice*: Update with packages.

- **/usr/libexec**  
  Binaries run by other programs, not intended for direct user or script execution (optional).  
  *Example*: `/usr/libexec/dovecot`.  
  *Additional Example*: `/usr/libexec/postfix`.  
  *Tip*: Check with vendor documentation.

- **/usr/lib`<qual>`**  
  Alternative-format libraries (e.g., `/usr/lib32` for 32-bit on 64-bit machines, optional).  
  *Example*: `/usr/lib32/libgcc_s.so`.  
  *Additional Example*: `/usr/lib64`.  
  *Best Practice*: Verify with `file`.

- **/usr/local**  
  Tertiary hierarchy for local data, specific to this host, with subdirectories like `bin`, `lib`, `share`.  
  *Example*: `/usr/local/bin/myapp`.  
  *Additional Example*: `/usr/local/share/doc`.  
  *Tip*: Use for custom installations.

- **/usr/sbin**  
  Non-essential system binaries (e.g., daemons for network services).  
  *Example*: `/usr/sbin/sshd`.  
  *Additional Example*: `/usr/sbin/httpd`.  
  *Best Practice*: Root access required.

- **/usr/share**  
  Architecture-independent (shared) data.  
  *Example*: `/usr/share/icons`.  
  *Additional Example*: `/usr/share/man`.  
  *Tip*: Share across systems.

- **/usr/src**  
  Source code (e.g., the kernel source code with its header files).  
  *Example*: `/usr/src/linux-headers-5.15.0-73`.  
  *Additional Example*: `/usr/src/myproject`.  
  *Best Practice*: Use for development.

- **/usr/X11R6**  
  X Window System, Version 11, Release 6 (up to FHS-2.3, optional).  
  *Example*: `/usr/X11R6/bin/xterm`.  
  *Additional Example*: `/usr/X11R6/lib`.  
  *Note*: Deprecated in newer FHS.

- **/var (Variable)**  
  Variable files whose content changes during operation (e.g., logs, spool files).  
  *Example*: `/var/log/syslog`.  
  *Additional Example*: `/var/www/html`.  
  *Best Practice*: Monitor with `tail -f /var/log/*`.

- **/var/cache**  
  Application cache data, regenerable and deletable without data loss.  
  *Example*: `/var/cache/apt`.  
  *Additional Example*: `/var/cache/fontconfig`.  
  *Tip*: Clean with `apt clean`.

- **/var/lib**  
  State information, persistent data modified by programs.  
  *Example*: `/var/lib/mysql`.  
  *Additional Example*: `/var/lib/dpkg`.  
  *Best Practice*: Backup regularly.

- **/var/lock**  
  Lock files tracking resources in use.  
  *Example*: `/var/lock/LCK..ttyS0`.  
  *Additional Example*: `/var/lock/subsys`.  
  *Tip*: Avoid manual deletion.

- **/var/log**  
  Log files for various system activities.  
  *Example*: `/var/log/auth.log`.  
  *Additional Example*: `/var/log/kern.log`.  
  *Best Practice*: Rotate with `logrotate`.

- **/var/mail**  
  Mailbox files (may be in `/var/spool/mail` in some distros).  
  *Example*: `/var/mail/arman`.  
  *Additional Example*: `/var/mail/root`.  
  *Tip*: Check with `mail`.

- **/var/opt**  
  Variable data from add-on packages in `/opt`.  
  *Example*: `/var/opt/myapp/logs`.  
  *Additional Example*: `/var/opt/custom-data`.  
  *Best Practice*: Sync with `/opt`.

- **/var/run**  
  Run-time variable data (replaced by `/run` in FHS 3.0; may be a symlink).  
  *Example*: `/var/run/utmp`.  
  *Additional Example*: `/var/run.pid`.  
  *Note*: Use `/run` in modern systems.

- **/var/spool**  
  Spool for tasks (e.g., print queues, mail).  
  *Example*: `/var/spool/cups`.  
  *Additional Example*: `/var/spool/mail` (deprecated).  
  *Tip*: Monitor with `lpq`.

- **/var/tmp**  
  Temporary files preserved between reboots.  
  *Example*: `/var/tmp/session`.  
  *Additional Example*: `/var/tmp/workfile`.  
  *Best Practice*: Use for persistent temp data.

## Methods to Check Kernel Version

1. **ls -l in /boot**:  
   List kernel files (e.g., `vmlinuz-5.15.0-73-generic`).  
   *Example*: `ls -l /boot | grep vmlinuz`.  
   *Tip*: Look for the latest version.

2. **uname Command**:  
   Use `uname -r` to display the running kernel (e.g., `5.15.0-73-generic`).  
   *Example*: `uname -r`.  
   *Best Practice*: Combine with `-a` for all details.

3. **cat /proc/version**:  
   Shows kernel version and build info (e.g., `Linux version 5.15.0-73-generic`).  
   *Example*: `cat /proc/version`.  
   *Tip*: Useful for debugging.

4. **dmesg | grep Linux**:  
   Extracts kernel version from boot messages.  
   *Example*: `dmesg | grep Linux` shows `5.15.0-73-generic`.  
   *Best Practice*: Requires root for full output.

## Methods to Check Distribution Version and Type

1. **lsb_release -a**:  
   Displays distribution details (e.g., Ubuntu 22.04 LTS).  
   *Example*: `lsb_release -a`.  
   *Note*: May require `lsb-release` package.

2. **cat /etc/os-release**:  
   Shows version info in key-value pairs (e.g., `VERSION="22.04 LTS"`).  
   *Example*: `cat /etc/os-release`.  
   *Tip*: Universal across most distros.

3. **cat /etc/issue**:  
   Provides a simple version string (e.g., `Ubuntu 22.04 LTS`).  
   *Example*: `cat /etc/issue`.  
   *Best Practice*: Check before scripting.

4. **hostnamectl**:  
   Displays system info, including distro (e.g., `Operating System: Ubuntu 22.04`).  
   *Example*: `hostnamectl`.  
   *Tip*: Works on systemd-based systems.

## FHS and LSB Context

The Filesystem Hierarchy Standard (FHS), adopted in 1994, is a set of guidelines that standardizes the structure and layout of the file system across Linux distributions. This standardization ensures that directories and their purposes remain consistent, making it easier for users and developers to navigate and manage systems regardless of the specific distribution. Distributions that comply with the FHS are referred to as Linux Standard Base (LSB)-compliant, with examples including Debian, Red Hat, and Ubuntu. These distributions adhere to the defined directory hierarchy, enhancing interoperability and portability of software.

Within this context, selecting Long Term Support (LTS) versions of these distributions, such as Ubuntu 20.04 LTS, is highly recommended. LTS versions are supported for an extended periodâ€”typically 5 years or moreâ€”providing regular security updates, bug fixes, and technical support. This long-term stability is particularly valuable for organizations and users who require a reliable and well-maintained operating system over an extended timeframe, as opposed to shorter-term releases that may only receive support for a few months.

A key aspect of the FHS is its guidance on physical separation of directories. Physical separation refers to the ability to store the contents of specific directories on separate physical storage devices or partitions, rather than keeping all directories on a single disk or partition. This separation can improve performance, security, and data management. According to the FHS, only the following directories are permitted to be physically separated: `/boot`, `/root`, `/home`, `/var`, `/tmp`, and `/opt`. 

- **/boot**: Separating this directory, which contains boot loader files and the kernel, onto its own partition can enhance boot reliability and simplify kernel upgrades or recovery processes, especially if the main filesystem becomes corrupted.
- **/root**: Isolating the root user's home directory on a separate partition protects the superuser's personal files and settings from potential issues affecting other parts of the filesystem.
- **/home**: Placing user home directories on a separate partition allows for easier backup, resizing, or reformatting of the main system without affecting user data. It also enables sharing `/home` across multiple distributions or reinstalls.
- **/var**: This directory, which holds variable data like logs and spools, can be separated to prevent log files or other dynamic content from filling up the root filesystem, thus avoiding system crashes due to space constraints.
- **/tmp**: Isolating the temporary files directory on its own partition ensures that temporary data does not impact the root filesystem's performance or space, and it can be cleared or reformatted independently.
- **/opt**: Separating this directory, used for optional third-party software, allows for independent management of additional applications without affecting the core system, facilitating easier upgrades or removals.

This physical separation is not mandatory but is allowed and often recommended for these directories due to their specific roles and the potential benefits in system administration. Other directories, such as `/etc`, `/bin`, or `/usr`, must remain on the root filesystem to ensure the system's core functionality and configuration remain intact and accessible, as separating them could disrupt essential operations or break the FHS compliance. This structured approach to physical separation helps maintain system integrity while offering flexibility for advanced configurations.

## Summary Table of File System Directories

| Directory            | Purpose                           | Example Content           | Notes                                    |
| -------------------- | --------------------------------- | ------------------------- | ---------------------------------------- |
| **/**                | Primary hierarchy root.           | `/home`, `/bin`           | Universal across Linux.                  |
| **/bin**             | Essential user binaries.          | `/bin/ls`, `/bin/cat`     | Available in single-user mode.           |
| **/boot**            | Boot loader files.                | `vmlinuz`, `grub.cfg`     | Backup before updates.                   |
| **/dev**             | Device files.                     | `/dev/sda`, `/dev/tty`    | Mount for access.                        |
| **/etc**             | System-wide configuration files.  | `/etc/passwd`, `/etc/ssh` | Historically "etcetera"; edit with root. |
| **/etc/opt**         | Config for /opt packages.         | `/etc/opt/myapp`          | Sync with /opt.                          |
| **/etc/sgml**        | SGML config files.                | `/etc/sgml/catalog`       | For SGML tools.                          |
| **/etc/X11**         | X Window System config.           | `/etc/X11/xorg.conf`      | For display settings.                    |
| **/etc/xml**         | XML config files.                 | `/etc/xml/catalog`        | For XML processing.                      |
| **/home**            | Users' home directories.          | `/home/arman`             | Customizable.                            |
| **/lib**             | Essential libraries.              | `/lib/libc.so.6`          | Update via package manager.              |
| **/lib<qual>**       | Alternate libraries.              | `/lib32/libc.so.6`        | Optional; check with `file`.             |
| **/media**           | Mount points for removable media. | `/media/usb`              | For portable devices.                    |
| **/mnt**             | Temporarily mounted filesystems.  | `/mnt/server`             | Mount with `mount`.                      |
| **/opt**             | Add-on application packages.      | `/opt/google`             | For third-party apps.                    |
| **/proc**            | Virtual filesystem for kernel.    | `/proc/cpuinfo`           | Read-only; real-time.                    |
| **/root**            | Root userâ€™s home.                 | `/root/script.sh`         | Private to root.                         |
| **/run**             | Run-time variable data.           | `/run/utmp`               | Often a `tmpfs`; check with `ls`.        |
| **/sbin**            | Essential system binaries.        | `/sbin/shutdown`          | Root-only; use `sudo`.                   |
| **/srv**             | Site-specific served data.        | `/srv/www/html`           | Organize by service.                     |
| **/sys**             | Device and kernel info.           | `/sys/class`              | Read-only; avoid writes.                 |
| **/tmp**             | Temporary files.                  | `/tmp/temp`               | Cleared on reboot.                       |
| **/usr**             | Secondary hierarchy for user data | `/usr/bin/firefox`        | Shareable, read-only.                    |
| **/usr/bin**         | Non-essential user binaries.      | `/usr/bin/vim`            | For all users.                           |
| **/usr/include**     | Standard include files.           | `/usr/include/stdlib.h`   | For development.                         |
| **/usr/lib**         | Libraries for /usr binaries.      | `/usr/lib/libssl.so`      | Update with packages.                    |
| **/usr/libexec**     | Binaries for other programs.      | `/usr/libexec/dovecot`    | Optional; not for direct use.            |
| **/usr/lib`<qual>`** | Alternative libraries.            | `/usr/lib32/libgcc`       | Optional; verify with `file`.            |
| **/usr/local**       | Local host-specific data.         | `/usr/local/bin/myapp`    | For custom installs.                     |
| **/usr/sbin**        | Non-essential system binaries.    | `/usr/sbin/sshd`          | Root access required.                    |
| **/usr/share**       | Architecture-independent data.    | `/usr/share/icons`        | Share across systems.                    |
| **/usr/src**         | Source code.                      | `/usr/src/linux-headers`  | For development.                         |
| **/usr/X11R6**       | X Window System (optional).       | `/usr/X11R6/bin/xterm`    | Deprecated in newer FHS.                 |
| **/var**             | Variable files.                   | `/var/log/syslog`         | Monitor with `tail`.                     |
| **/var/cache**       | Application cache data.           | `/var/cache/apt`          | Deletable; regenerate as needed.         |
| **/var/lib**         | State information.                | `/var/lib/mysql`          | Backup regularly.                        |
| **/var/lock**        | Lock files.                       | `/var/lock/LCK..ttyS0`    | Avoid manual deletion.                   |
| **/var/log**         | Log files.                        | `/var/log/auth.log`       | Rotate with `logrotate`.                 |
| **/var/mail**        | Mailbox files.                    | `/var/mail/arman`         | May be in `/var/spool/mail`.             |
| **/var/opt**         | Variable data for /opt packages.  | `/var/opt/myapp/logs`     | Sync with /opt.                          |
| **/var/run**         | Run-time data (legacy).           | `/var/run/utmp`           | Use `/run` in modern systems.            |
| **/var/spool**       | Spool for tasks.                  | `/var/spool/cups`         | Monitor with `lpq`.                      |
| **/var/tmp**         | Persistent temporary files.       | `/var/tmp/session`        | Use for reboot-persistent temp.          |
