# Vim Command Mode Operations

2025-10-04 12:40
Status: #DONE 
Tags: [[Linux]]

---
# Comprehensive Guide to vi/vim Command Mode Operations

## Navigation Commands

### Basic Movement Keys

**Arrow Key Alternatives:**
```bash
h    # Move cursor left
j    # Move cursor down  
k    # Move cursor up
l    # Move cursor right
```

**Historical Context:** These keys were originally used because early terminals lacked dedicated arrow keys. The `hjkl` arrangement remains efficient for touch typists who don't need to move their hands from the home row.

**Numerical Multipliers:**
```bash
3j   # Move down 3 lines
5k   # Move up 5 lines
10l  # Move right 10 characters
2h   # Move left 2 characters
```

### Line-Based Navigation

**Absolute Line Movement:**
```bash
:15     # Jump to line 15
:set nu # Show line numbers (:set nonu to disable)
:set number  # Alternative syntax for line numbers
```

**Screen-Relative Navigation:**
```bash
H       # Move to first line of current screen (High)
M       # Move to middle line of current screen (Middle) 
L       # Move to last line of current screen (Low)
```

**File-Level Navigation:**
```bash
gg      # Go to first line of file
G       # Go to last line of file
50G     # Go to specific line 50
```

### Word and Line Position Navigation

**Word Movement:**
```bash
w       # Move forward to start of next word
3w      # Move forward 3 words
b       # Move backward to start of previous word  
5b      # Move backward 5 words
e       # Move to end of current word
```

**Line Position Commands:**
```bash
0       # Move to very beginning of line
^       # Move to first non-whitespace character of line
$       # Move to end of line
```

### Page Navigation

```bash
Ctrl+f  # Page down (Forward)
Ctrl+b  # Page up (Backward)
Ctrl+d  # Half page down
Ctrl+u  # Half page up
```

## Deletion and Modification Commands

### Character Deletion

**Forward Deletion:**
```bash
x       # Delete character under cursor
3x      # Delete 3 characters starting from cursor
```

**Backward Deletion:**
```bash
X       # Delete character before cursor  
2X      # Delete 2 characters before cursor
```

### Advanced Deletion Operations

**Delete and Enter Insert Mode:**
```bash
s       # Delete character under cursor and enter insert mode
4s      # Delete 4 characters and enter insert mode
S       # Delete entire line and enter insert mode (same as cc)
```

**Line Deletion:**
```bash
dd      # Delete current line
5dd     # Delete 5 lines starting from current line
D       # Delete from cursor to end of line (same as d$)
```

### Cut, Copy, and Paste Operations

**Cut (Delete) Operations:**
```bash
dw      # Delete from cursor to end of word
d3w     # Delete 3 words
d$      # Delete to end of line (same as D)
d^      # Delete to beginning of line
d0      # Delete to very beginning of line
dj      # Delete current and next line
dk      # Delete current and previous line
```

**Copy (Yank) Operations:**
```bash
yw      # Yank (copy) word
y3w     # Yank 3 words
yy      # Yank current line
5yy     # Yank 5 lines
y$      # Yank to end of line
y^      # Yank to beginning of line
```

**Paste Operations:**
```bash
p       # Paste after cursor position
P       # Paste before cursor position
```

### Change Operations

**Change Commands (Delete and Enter Insert Mode):**
```bash
cw      # Change word (delete word and enter insert mode)
c3w     # Change 3 words
cc      # Change entire line (delete line and enter insert mode)
c$      # Change to end of line (same as C)
c^      # Change to beginning of line
```

## Search and Pattern Matching

### Basic Search Operations

**Forward Search:**
```bash
/pattern     # Search forward for pattern
/search_text # Example: find "search_text"
```

**Backward Search:**
```bash
?pattern     # Search backward for pattern  
?error       # Example: find "error" backward
```

### Search Navigation

```bash
n       # Repeat search in same direction
N       # Repeat search in opposite direction
*       # Search for word under cursor forward
#       # Search for word under cursor backward
```

### Advanced Search Features

**Case Sensitivity Control:**
```bash
:set ic    # Ignore case for searches
:set noic  # Case sensitive searches
```

**Search Highlighting:**
```bash
:set hlsearch    # Highlight all search matches
:set nohlsearch  # Disable search highlighting
:noh            # Temporarily disable highlighting until next search
```

## Undo, Redo, and Repeat Operations

### Change Management

```bash
u       # Undo last change
5u      # Undo last 5 changes
U       # Undo all changes on current line
Ctrl+r  # Redo undone changes
.       # Repeat last command
ZZ     # save and quit = :x or :wq
```

## Practical Usage Examples and Workflows

### Efficient Text Editing Patterns

**Quick Line Operations:**
```bash
ddp     # Swap current line with next line
yyp     # Duplicate current line
>>      # Indent line
<<      # Unindent line
```

**Word Manipulation:**
```bash
ciw     # Change inner word (delete word and enter insert mode)
caw     # Change a word (including surrounding whitespace)
di"     # Delete inside quotes
ci[     # Change inside brackets
```

### Advanced Movement Combinations

**Precise Navigation:**
```bash
d2w     # Delete 2 words
c3e     # Change to end of 3rd word
y5j     # Yank next 5 lines
```

**Search and Replace Workflow:**
```bash
/error      # Find next "error"
cwfix       # Change "error" to "fix"
n           # Find next occurrence
.           # Repeat the change
```

## Best Practices and Professional Tips

### Efficiency Optimization

**Stay in Command Mode:**
- Use `ESC` frequently to return to command mode
- Avoid using arrow keys; train with `hjkl`
- Combine numerical multipliers with commands for efficiency

**Visual Mode for Complex Selections:**
```bash
v       # Enter visual character selection mode
V       # Enter visual line selection mode
Ctrl+v  # Enter visual block selection mode
```

### Memory Aid Techniques

**Mnemonic Devices:**
- `h` = left (leftmost key)
- `l` = right (rightmost key)  
- `j` = down (looks like down arrow)
- `k` = up (points up)
- `d` = delete, `c` = change, `y` = yank
- `p` = put/paste after, `P` = paste before

### Common Command Combinations

**Text Object Manipulation:**
```bash
dit     # Delete inside tags (HTML/XML)
cis     # Change inside sentence
cip     # Change inside paragraph
```

**Navigation Shortcuts:**
```bash
Ctrl+o  # Jump back to previous position
Ctrl+i  # Jump forward to next position
``      # Jump to exact previous position
```

## Troubleshooting Common Issues

### Recovery from Common Mistakes

**Accidental Input in Command Mode:**
- Press `ESC` multiple times to ensure command mode
- Use `u` to undo unintended changes
- `:q!` to quit without saving if needed

**Search Issues:**
```bash
/search\ term  # Escape spaces in search patterns
/\<word\>      # Search for exact word boundaries
```

### Performance Optimization

**Large File Handling:**
```bash
:set synmaxcol=200  # Limit syntax highlighting to prevent slowdown
:set lazyredraw     # Delay redrawing during macros/scripts
```

## Advanced Professional Techniques

### Macro Recording for Repetitive Tasks

```bash
qa              # Start recording macro 'a'
...commands...  # Perform sequence of commands
q               # Stop recording
@a              # Execute macro 'a'
5@a             # Execute macro 'a' 5 times
```

### Window and Buffer Management

```bash
:split filename     # Horizontal split
:vsplit filename    # Vertical split
Ctrl+w w           # Switch between windows
:bn                # Next buffer
:bp                # Previous buffer
```
